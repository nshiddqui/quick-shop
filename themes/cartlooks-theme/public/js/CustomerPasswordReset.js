"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4091,5218],{1709:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(3645),o=r.n(s)()((function(e){return e[1]}));o.push([e.id,".page-header[data-v-3c290d92]{padding:16px 0}",""]);const a=o},5218:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var s=r(118),o={class:"custom-container2"},a={class:"row"},n={class:"col-12"};var c=r(8549);const l={name:"PageHeader",components:{CBreadcrumb:c.fj,CBreadcrumbItem:c.Sd},props:{title:{type:String,default:""},whiteBg:{type:Boolean,default:!1},items:{type:Array,default:function(){return[]}},small:{type:Boolean,default:!1}}};var i=r(3379),d=r.n(i),m=r(1709),p={insert:"head",singleton:!1};d()(m.Z,p);m.Z.locals;const u=(0,r(3744).Z)(l,[["render",function(e,t,r,c,l,i){var d=(0,s.resolveComponent)("CBreadcrumbItem"),m=(0,s.resolveComponent)("CBreadcrumb");return(0,s.openBlock)(),(0,s.createElementBlock)("div",{class:(0,s.normalizeClass)(["page-header bg-light d-none d-lg-block",{"white-box":r.whiteBg}])},[(0,s.createElementVNode)("div",o,[(0,s.createElementVNode)("div",a,[(0,s.createElementVNode)("div",n,[r.title?((0,s.openBlock)(),(0,s.createElementBlock)("h2",{key:0,class:(0,s.normalizeClass)(["page-title",{small:r.small}])},(0,s.toDisplayString)(r.title),3)):(0,s.createCommentVNode)("",!0),(0,s.createVNode)(m,{style:{"--cui-breadcrumb-divider":"'>'"}},{default:(0,s.withCtx)((function(){return[((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,null,(0,s.renderList)(r.items,(function(e){return(0,s.openBlock)(),(0,s.createBlock)(d,{href:e.href,class:(0,s.normalizeClass)({active:e.active}),key:e},{default:(0,s.withCtx)((function(){return[(0,s.createTextVNode)((0,s.toDisplayString)(e.text),1)]})),_:2},1032,["href","class"])})),128))]})),_:1})])])])],2)}],["__scopeId","data-v-3c290d92"]])},2385:(e,t,r)=>{r.r(t),r.d(t,{default:()=>P});var s=r(118),o={class:""},a={key:0,class:"pt-60 pb-60 light-bg"},n={class:"custom-container2"},c={class:"login-form-wrap"},l={class:"loginForm white-box px-3 py-4 p-md-5"},i={class:"mb-4"},d={class:"row"},m={class:"col-12"},p={class:"form-group mb-20"},u={class:"font-weight-bold fz-12 mb-2"},f=(0,s.createElementVNode)("span",{class:"text-danger"},"*",-1),h={class:""},w=["placeholder"],v={class:"form-group mb-20"},k={for:"confirmPassword",class:"font-weight-bold fz-12 mb-2"},g=(0,s.createElementVNode)("span",{class:"text-danger"},"*",-1),N={class:""},V=["placeholder"],y={class:"row"},E={class:"col-12 my-3"},b={key:1,class:"col-12"},B={class:"d-block mt-3"};var C=r(5218),x=r(9669),_=r.n(x);const $={name:"ResetPassword",components:{PageHeader:C.default},data:function(){return{bItems:[{text:this.$t("Home"),href:"/"},{text:this.$t("Reset password"),active:!0}],password:"",password_confirmation:"",is_checked:!1,is_valid:!1,errors:[]}},computed:{identifier:function(){return this.$route.query.u||null}},mounted:function(){document.title=this.$t("Reset password"),null==this.identifier&&this.$router.push("PageNotExist"),this.verifyResetPasswordLink()},methods:{verifyResetPasswordLink:function(){var e=this;_().post("/api/v1/ecommerce-core/auth/verify-customer-reset-password-token",{identifier:this.identifier}).then((function(t){t.data.success?(e.is_checked=!0,e.is_valid=!0):(e.is_checked=!0,e.is_valid=!1)})).catch((function(t){e.is_checked=!0,e.is_valid=!1}))},resetCustomerPassword:function(){var e=this;this.errors=[],_().post("/api/v1/ecommerce-core/auth/customer-reset-password",{identifier:this.identifier,password:this.password,password_confirmation:this.password_confirmation}).then((function(t){t.data.success?(e.$toast.success(e.$t("Password reset successful")),e.$router.push("/login")):e.$toast.error(e.$t("Password reset failed"))})).catch((function(t){422==t.response.status?e.errors=t.response.data.errors:e.$toast.error(e.$t("Password reset failed"))}))}}};const P=(0,r(3744).Z)($,[["render",function(e,t,r,C,x,_){var $=(0,s.resolveComponent)("page-header"),P=(0,s.resolveComponent)("router-link");return(0,s.openBlock)(),(0,s.createElementBlock)("div",o,[(0,s.createVNode)($,{class:"pt-3 pb-3",items:x.bItems},null,8,["items"]),x.is_checked?((0,s.openBlock)(),(0,s.createElementBlock)("div",a,[(0,s.createElementVNode)("div",n,[(0,s.createElementVNode)("div",c,[(0,s.createElementVNode)("form",l,[(0,s.createElementVNode)("h3",i,(0,s.toDisplayString)(e.$t("Reset password")),1),x.is_valid?((0,s.openBlock)(),(0,s.createElementBlock)(s.Fragment,{key:0},[(0,s.createElementVNode)("div",d,[(0,s.createElementVNode)("div",m,[(0,s.createElementVNode)("div",p,[(0,s.createElementVNode)("label",u,[(0,s.createTextVNode)((0,s.toDisplayString)(e.$t("New Password")),1),f]),(0,s.createElementVNode)("div",h,[(0,s.withDirectives)((0,s.createElementVNode)("input",{type:"password",placeholder:e.$t("Password"),class:"theme-input-style",required:"","onUpdate:modelValue":t[0]||(t[0]=function(e){return x.password=e})},null,8,w),[[s.vModelText,x.password]]),x.errors.password?((0,s.openBlock)(!0),(0,s.createElementBlock)(s.Fragment,{key:0},(0,s.renderList)(x.errors.password,(function(e,t){return(0,s.openBlock)(),(0,s.createElementBlock)("p",{class:"fz-12 text-danger mt-1",key:t},(0,s.toDisplayString)(e),1)})),128)):(0,s.createCommentVNode)("",!0)])]),(0,s.createElementVNode)("div",v,[(0,s.createElementVNode)("label",k,[(0,s.createTextVNode)((0,s.toDisplayString)(e.$t("Confirm Password")),1),g]),(0,s.createElementVNode)("div",N,[(0,s.withDirectives)((0,s.createElementVNode)("input",{id:"confirmPassword",type:"password",placeholder:e.$t("Confirm Password"),class:"theme-input-style",required:"","onUpdate:modelValue":t[1]||(t[1]=function(e){return x.password_confirmation=e})},null,8,V),[[s.vModelText,x.password_confirmation]])])])])]),(0,s.createElementVNode)("div",y,[(0,s.createElementVNode)("div",E,[(0,s.createElementVNode)("button",{onClick:t[2]||(t[2]=(0,s.withModifiers)((function(){return _.resetCustomerPassword&&_.resetCustomerPassword.apply(_,arguments)}),["prevent"])),class:"btn btn-fill"},(0,s.toDisplayString)(e.$t("Change Password")),1)])])],64)):((0,s.openBlock)(),(0,s.createElementBlock)("div",b,[(0,s.createElementVNode)("span",B,[(0,s.createTextVNode)((0,s.toDisplayString)(e.$t("This link has expired"))+". ",1),(0,s.createVNode)(P,{to:"/password/forgot",class:"btn_underline"},{default:(0,s.withCtx)((function(){return[(0,s.createTextVNode)((0,s.toDisplayString)(e.$t("Regenerate Link")),1)]})),_:1})])]))])])])])):(0,s.createCommentVNode)("",!0)])}]])}}]);