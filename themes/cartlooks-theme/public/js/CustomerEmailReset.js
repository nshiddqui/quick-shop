"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2276,5218],{1709:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(3645),o=r.n(a)()((function(e){return e[1]}));o.push([e.id,".page-header[data-v-3c290d92]{padding:16px 0}",""]);const n=o},5218:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var a=r(118),o={class:"custom-container2"},n={class:"row"},s={class:"col-12"};var l=r(8549);const i={name:"PageHeader",components:{CBreadcrumb:l.fj,CBreadcrumbItem:l.Sd},props:{title:{type:String,default:""},whiteBg:{type:Boolean,default:!1},items:{type:Array,default:function(){return[]}},small:{type:Boolean,default:!1}}};var c=r(3379),d=r.n(c),m=r(1709),u={insert:"head",singleton:!1};d()(m.Z,u);m.Z.locals;const p=(0,r(3744).Z)(i,[["render",function(e,t,r,l,i,c){var d=(0,a.resolveComponent)("CBreadcrumbItem"),m=(0,a.resolveComponent)("CBreadcrumb");return(0,a.openBlock)(),(0,a.createElementBlock)("div",{class:(0,a.normalizeClass)(["page-header bg-light d-none d-lg-block",{"white-box":r.whiteBg}])},[(0,a.createElementVNode)("div",o,[(0,a.createElementVNode)("div",n,[(0,a.createElementVNode)("div",s,[r.title?((0,a.openBlock)(),(0,a.createElementBlock)("h2",{key:0,class:(0,a.normalizeClass)(["page-title",{small:r.small}])},(0,a.toDisplayString)(r.title),3)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(m,{style:{"--cui-breadcrumb-divider":"'>'"}},{default:(0,a.withCtx)((function(){return[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.items,(function(e){return(0,a.openBlock)(),(0,a.createBlock)(d,{href:e.href,class:(0,a.normalizeClass)({active:e.active}),key:e},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(e.text),1)]})),_:2},1032,["href","class"])})),128))]})),_:1})])])])],2)}],["__scopeId","data-v-3c290d92"]])},5175:(e,t,r)=>{r.r(t),r.d(t,{default:()=>w});var a=r(118),o={class:""},n={key:0,class:"pt-60 pb-60 light-bg"},s={class:"custom-container2"},l={class:"login-form-wrap"},i={class:"loginForm white-box px-3 py-4 p-md-5"},c={class:"mb-4"},d={class:"row"},m={class:"col-12"},u={class:"form-group mb-20"},p={class:"font-weight-bold fz-12 mb-2"},h=(0,a.createElementVNode)("span",{class:"text-danger"},"*",-1),f={class:""},v=["placeholder"],k={class:"row"},E={class:"col-12 my-3"},g={key:1,class:"col-12"},y={class:"d-block mt-3"};var N=r(5218),V=r(9669),B=r.n(V),b=r(3907);const C={name:"ResetEmail",components:{PageHeader:N.default},data:function(){return{bItems:[{text:this.$t("Home"),href:"/"},{text:this.$t("Change Email"),active:!0}],email:"",is_checked:!0,is_valid:!0,errors:[]}},computed:(0,b.rn)({customerToken:function(e){return e.customerToken},identifier:function(){return this.$route.query.u||null}}),mounted:function(){document.title=this.$t("Email reset"),null==this.identifier&&this.$router.push("PageNotExist"),this.verifyResetPasswordLink()},methods:{verifyResetPasswordLink:function(){var e=this;B().post("/api/v1/ecommerce-core/auth/verify-customer-reset-password-token",{identifier:this.identifier}).then((function(t){t.data.success?(e.is_checked=!0,e.is_valid=!0):(e.is_checked=!0,e.is_valid=!1)})).catch((function(t){e.is_checked=!0,e.is_valid=!1}))},resetCustomerEmail:function(){var e=this;this.errors=[],B().post("/api/v1/ecommerce-core/auth/customer-reset-email",{identifier:this.identifier,email:this.email}).then((function(t){t.data.success?(e.$toast.success(e.$t("Email reset successfully")),e.$store.dispatch("customerLogout").then((function(){e.$router.push("/login")}))):e.$toast.error(e.$t("Email reset failed"))})).catch((function(t){422==t.response.status?e.errors=t.response.data.errors:e.$toast.error(e.$t("Email reset failed"))}))}}};const w=(0,r(3744).Z)(C,[["render",function(e,t,r,N,V,B){var b=(0,a.resolveComponent)("page-header"),C=(0,a.resolveComponent)("router-link");return(0,a.openBlock)(),(0,a.createElementBlock)("div",o,[(0,a.createVNode)(b,{class:"pt-3 pb-3",items:V.bItems},null,8,["items"]),V.is_checked?((0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("div",l,[(0,a.createElementVNode)("form",i,[(0,a.createElementVNode)("h3",c,(0,a.toDisplayString)(e.$t("Change Email")),1),V.is_valid?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",d,[(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("label",p,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("New Email")),1),h]),(0,a.createElementVNode)("div",f,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"email",placeholder:e.$t("Email"),class:"theme-input-style",required:"","onUpdate:modelValue":t[0]||(t[0]=function(e){return V.email=e})},null,8,v),[[a.vModelText,V.email]]),V.errors.email?((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,{key:0},(0,a.renderList)(V.errors.email,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("p",{class:"fz-12 text-danger mt-1",key:t},(0,a.toDisplayString)(e),1)})),128)):(0,a.createCommentVNode)("",!0)])])])]),(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("div",E,[(0,a.createElementVNode)("button",{onClick:t[1]||(t[1]=(0,a.withModifiers)((function(){return B.resetCustomerEmail&&B.resetCustomerEmail.apply(B,arguments)}),["prevent"])),class:"btn btn-fill"},(0,a.toDisplayString)(e.$t("Update Email")),1)])])],64)):((0,a.openBlock)(),(0,a.createElementBlock)("div",g,[(0,a.createElementVNode)("span",y,[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("This link has expired"))+". ",1),(0,a.createVNode)(C,{to:"/password/forgot",class:"btn_underline"},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(e.$t("Regenerate Link")),1)]})),_:1})])]))])])])])):(0,a.createCommentVNode)("",!0)])}]])}}]);